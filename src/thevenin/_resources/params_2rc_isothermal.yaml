# 2-RC 等效电路参数（仅考虑电芯本身，不考虑温度/环境/迟滞）
# 用于一步步求解、完善模型；外电路 I(t) 由调用方以参数形式传入

num_RC_pairs: 2
soc0: 1.0
# 手机电池典型容量 3~5 Ah (3000~5000 mAh)，2A 放电约 0.5C
capacity: 4.0
ce: 1.0
# 迟滞：暂不考虑时设 gamma=0, M_hyst=0
gamma: 0.0
M_hyst: !eval |
    lambda soc: 0.0

# 温度/环境：暂不考虑时设 isothermal=True；以下按手机电池典型值（非车用）
isothermal: True
# 手机电池：质量约 45g=0.045kg，比热约 1000~1100 J/(kg·K)，C_th 约 40~50 J/K
mass: 0.045
Cp: 1050.0
T_inf: 298.15
# 固体导热：电池贴中框/石墨贴/液冷均热板；理论 h·A 可达 30~50 W/K，取较小值以得到可见温升（游戏约 35~40°C）
h_therm: 20.0     # W/(m²·K)，h·A ≈ 0.2 W/K 时游戏 1h 温升约 10~15 K
A_therm: 0.01     # m²
# 外电路功耗传入电芯的比例 η：P_device 不能全算进电芯，仅 η 部分加热电芯，约 0.15~0.3
eta_device: 0.3

# OCV：开路电压随 SOC 与温度，OCV(soc,T)=OCV_ref(soc)+(T-T_ref)·dUoc/dT，dUoc/dT 约 0.3~0.5 mV/K
ocv: !eval |
    lambda soc, T_cell: (84.6*soc**7 - 348.6*soc**6 + 592.3*soc**5 - 534.3*soc**4 \
                + 275.0*soc**3 - 80.3*soc**2 + 12.8*soc + 2.8) + (T_cell - 298.15) * 0.0004

# 内阻（Ohm）：Arrhenius 律 R(T)=R_ref·exp[(Ea/k)·(1/T_cell−1/T_ref)]，温度升高 R 降低
# T_ref=298.15K(25°C)，Ea/k≈4000 时电压恢复现象明显
R0: !eval |
    lambda soc, T_cell: 0.04 * np.exp(4000.0 * (1.0 / T_cell - 1.0 / 298.15))

# 第 1 个 RC 对
R1: !eval |
    lambda soc, T_cell: 0.02 * np.exp(4000.0 * (1.0 / T_cell - 1.0 / 298.15))
# C1、C2 随 T：极化电容温升略增（动力学加快），C(T)=C_ref·exp(Ea_C/k·(1/T−1/T_ref))，Ea_C/k 取负/小量
C1: !eval |
    lambda soc, T_cell: 1000.0 * np.exp(-2000.0 * (1.0 / T_cell - 1.0 / 298.15))

# 第 2 个 RC 对
R2: !eval |
    lambda soc, T_cell: 0.02 * np.exp(4000.0 * (1.0 / T_cell - 1.0 / 298.15))
C2: !eval |
    lambda soc, T_cell: 2000.0 * np.exp(-2000.0 * (1.0 / T_cell - 1.0 / 298.15))
